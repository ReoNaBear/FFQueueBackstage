import{c as O,a as s,h as v,b as V,g as W,r as w,w as x,o as j,d as X,e as Y,T as he,s as ge,i as ae,f as H,l as D,j as me,p as le,k as ye,m as pe,n as E,q as be,t as we,u as Te,v as Se,x as q,y as xe,z as C,A as Z,Q as Pe}from"./index-BClHxbLI.js";import{v as ze,a as ee,u as qe,p as te,b as Ce,c as _e,d as He,r as oe,s as Oe,e as ne}from"./position-engine-7pJk61Mh.js";import{u as F,a as Qe,s as Le,b as $e,c as ke,d as Re,e as Be,f as Ee,g as Ve,h as We,i as M}from"./scroll-Dp7Jmbqt.js";import{Q as N,a as Ae}from"./QScrollObserver-Brpa8UJX.js";const Fe=O({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:p}){const i=s(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>v("div",{class:i.value},V(p.default))}}),Me=O({name:"QTooltip",inheritAttrs:!1,props:{...qe,...$e,...F,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...F.transitionShow,default:"jump-down"},transitionHide:{...F.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:ee},self:{type:String,default:"top middle",validator:ee},offset:{type:Array,default:()=>[14,14],validator:ze},scrollTarget:Le,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Qe],setup(e,{slots:p,emit:i,attrs:n}){let o,r;const f=W(),{proxy:{$q:c}}=f,g=w(null),u=w(!1),Q=s(()=>te(e.anchor,c.lang.rtl)),L=s(()=>te(e.self,c.lang.rtl)),$=s(()=>e.persistent!==!0),{registerTick:m,removeTick:T}=ke(),{registerTimeout:S}=Re(),{transitionProps:k,transitionStyle:P}=Be(e),{localScrollTarget:t,changeScrollEvent:y,unconfigureScrollTarget:a}=Ce(e,G),{anchorEl:l,canShow:b,anchorEvents:d}=_e({showing:u,configureAnchorEl:de}),{show:R,hide:_}=Ee({showing:u,canShow:b,handleShow:re,handleHide:se,hideOnRouteChange:$,processOnMount:!0});Object.assign(d,{delayShow:ue,delayHide:ce});const{showPortal:U,hidePortal:I,renderPortal:ie}=Ve(f,g,ve,"tooltip");if(c.platform.is.mobile===!0){const h={anchorEl:l,innerRef:g,onClickOutside(z){return _(z),z.target.classList.contains("q-dialog__backdrop")&&ge(z),!0}},A=s(()=>e.modelValue===null&&e.persistent!==!0&&u.value===!0);x(A,z=>{(z===!0?He:oe)(h)}),j(()=>{oe(h)})}function re(h){U(),m(()=>{r=new MutationObserver(()=>B()),r.observe(g.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),B(),G()}),o===void 0&&(o=x(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,B)),S(()=>{U(!0),i("show",h)},e.transitionDuration)}function se(h){T(),I(),K(),S(()=>{I(!0),i("hide",h)},e.transitionDuration)}function K(){r!==void 0&&(r.disconnect(),r=void 0),o!==void 0&&(o(),o=void 0),a(),X(d,"tooltipTemp")}function B(){Oe({targetEl:g.value,offset:e.offset,anchorEl:l.value,anchorOrigin:Q.value,selfOrigin:L.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ue(h){if(c.platform.is.mobile===!0){ne(),document.body.classList.add("non-selectable");const A=l.value,z=["touchmove","touchcancel","touchend","click"].map(J=>[A,J,"delayHide","passiveCapture"]);Y(d,"tooltipTemp",z)}S(()=>{R(h)},e.delay)}function ce(h){c.platform.is.mobile===!0&&(X(d,"tooltipTemp"),ne(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),S(()=>{_(h)},e.hideDelay)}function de(){if(e.noParentEvent===!0||l.value===null)return;const h=c.platform.is.mobile===!0?[[l.value,"touchstart","delayShow","passive"]]:[[l.value,"mouseenter","delayShow","passive"],[l.value,"mouseleave","delayHide","passive"]];Y(d,"anchor",h)}function G(){if(l.value!==null||e.scrollTarget!==void 0){t.value=We(l.value,e.scrollTarget);const h=e.noParentEvent===!0?B:_;y(t.value,h)}}function fe(){return u.value===!0?v("div",{...n,ref:g,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,P.value],role:"tooltip"},V(p.default)):null}function ve(){return v(he,k.value,fe)}return j(K),Object.assign(f.proxy,{updatePosition:B}),ie}}),je=O({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:p}){const i=s(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>v("div",{class:i.value,role:"toolbar"},V(p.default))}}),Ne=O({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:p,emit:i}){const{proxy:{$q:n}}=W(),o=ae(D,H);if(o===H)return console.error("QHeader needs to be child of QLayout"),H;const r=w(parseInt(e.heightHint,10)),f=w(!0),c=s(()=>e.reveal===!0||o.view.value.indexOf("H")!==-1||n.platform.is.ios&&o.isContainer.value===!0),g=s(()=>{if(e.modelValue!==!0)return 0;if(c.value===!0)return f.value===!0?r.value:0;const t=r.value-o.scroll.value.position;return t>0?t:0}),u=s(()=>e.modelValue!==!0||c.value===!0&&f.value!==!0),Q=s(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),L=s(()=>"q-header q-layout__section--marginal "+(c.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),$=s(()=>{const t=o.rows.value.top,y={};return t[0]==="l"&&o.left.space===!0&&(y[n.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),t[2]==="r"&&o.right.space===!0&&(y[n.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),y});function m(t,y){o.update("header",t,y)}function T(t,y){t.value!==y&&(t.value=y)}function S({height:t}){T(r,t),m("size",t)}function k(t){Q.value===!0&&T(f,!0),i("focusin",t)}x(()=>e.modelValue,t=>{m("space",t),T(f,!0),o.animate()}),x(g,t=>{m("offset",t)}),x(()=>e.reveal,t=>{t===!1&&T(f,e.modelValue)}),x(f,t=>{o.animate(),i("reveal",t)}),x(o.scroll,t=>{e.reveal===!0&&T(f,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const P={};return o.instances.header=P,e.modelValue===!0&&m("size",r.value),m("space",e.modelValue),m("offset",g.value),j(()=>{o.instances.header===P&&(o.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const t=me(p.default,[]);return e.elevated===!0&&t.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(v(N,{debounce:0,onResize:S})),v("header",{class:L.value,style:$.value,onFocusin:k},t)}}}),De=O({name:"QPageContainer",setup(e,{slots:p}){const{proxy:{$q:i}}=W(),n=ae(D,H);if(n===H)return console.error("QPageContainer needs to be child of QLayout"),H;le(ye,!0);const o=s(()=>{const r={};return n.header.space===!0&&(r.paddingTop=`${n.header.size}px`),n.right.space===!0&&(r[`padding${i.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(r.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(r[`padding${i.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),r});return()=>v("div",{class:"q-page-container",style:o.value},V(p.default))}}),Ue=O({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:p,emit:i}){const{proxy:{$q:n}}=W(),o=w(null),r=w(n.screen.height),f=w(e.container===!0?0:n.screen.width),c=w({position:0,direction:"down",inflectionPoint:0}),g=w(0),u=w(pe.value===!0?0:M()),Q=s(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),L=s(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),$=s(()=>u.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),m=s(()=>u.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function T(a){if(e.container===!0||document.qScrollPrevented!==!0){const l={position:a.position.top,direction:a.direction,directionChanged:a.directionChanged,inflectionPoint:a.inflectionPoint.top,delta:a.delta.top};c.value=l,e.onScroll!==void 0&&i("scroll",l)}}function S(a){const{height:l,width:b}=a;let d=!1;r.value!==l&&(d=!0,r.value=l,e.onScrollHeight!==void 0&&i("scrollHeight",l),P()),f.value!==b&&(d=!0,f.value=b),d===!0&&e.onResize!==void 0&&i("resize",a)}function k({height:a}){g.value!==a&&(g.value=a,P())}function P(){if(e.container===!0){const a=r.value>g.value?M():0;u.value!==a&&(u.value=a)}}let t=null;const y={instances:{},view:s(()=>e.view),isContainer:s(()=>e.container),rootRef:o,height:r,containerHeight:g,scrollbarWidth:u,totalWidth:s(()=>f.value+u.value),rows:s(()=>{const a=e.view.toLowerCase().split(" ");return{top:a[0].split(""),middle:a[1].split(""),bottom:a[2].split("")}}),header:E({size:0,offset:0,space:!1}),right:E({size:300,offset:0,space:!1}),footer:E({size:0,offset:0,space:!1}),left:E({size:300,offset:0,space:!1}),scroll:c,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(a,l,b){y[a][l]=b}};if(le(D,y),M()>0){let a=function(){d=null,R.classList.remove("hide-scrollbar")},l=function(){if(d===null){if(R.scrollHeight>n.screen.height)return;R.classList.add("hide-scrollbar")}else clearTimeout(d);d=setTimeout(a,300)},b=function(_){d!==null&&_==="remove"&&(clearTimeout(d),a()),window[`${_}EventListener`]("resize",l)},d=null;const R=document.body;x(()=>e.container!==!0?"add":"remove",b),e.container!==!0&&b("add"),be(()=>{b("remove")})}return()=>{const a=we(p.default,[v(Ae,{onScroll:T}),v(N,{onResize:S})]),l=v("div",{class:Q.value,style:L.value,ref:e.container===!0?void 0:o,tabindex:-1},a);return e.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:o},[v(N,{onResize:k}),v("div",{class:"absolute-full",style:$.value},[v("div",{class:"scroll",style:m.value},[l])])]):l}}}),Xe={__name:"MainLayout",setup(e){return(p,i)=>{const n=xe("router-view");return Se(),Te(Ue,{view:"hHh lpR fFf",class:"bg-secondary"},{default:q(()=>[C(Ne,{elevated:"",class:"bg-primary text-white","height-hint":"50"},{default:q(()=>[C(je,null,{default:q(()=>[C(Fe,{class:"text-center text-weight-bold"},{default:q(()=>[...i[0]||(i[0]=[Z(" 排隊買周邊σ`∀´)σ ",-1)])]),_:1}),C(Pe,{flat:"",round:"",dense:"",icon:"admin_panel_settings",to:"/admin",color:"white"},{default:q(()=>[C(Me,null,{default:q(()=>[...i[1]||(i[1]=[Z("後台",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),C(De,null,{default:q(()=>[C(n)]),_:1})]),_:1})}}};export{Xe as default};
