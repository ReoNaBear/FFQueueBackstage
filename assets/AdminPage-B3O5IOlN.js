import{a as h,c as Le,g as gt,r as z,P as vl,w as xe,R as Ot,h as m,T as Be,b as tl,Q as H,S as ml,U as fl,d as wt,V as Ze,W as qt,X as hl,e as st,Y as ft,Z as $t,_ as kt,$ as gl,s as yl,a0 as bl,a1 as Ve,L as _e,a2 as pl,a3 as _l,a4 as xl,o as wl,t as ql,q as kl,D as Cl,u as et,v as ae,x as B,E as g,F as pe,z as y,G as ct,H as dt,I as Sl,J as Ct,M as zl,A as he,K as se,N as vt,O as Ml,a5 as mt,a6 as Vl}from"./index-CbGBn00s.js";import{_ as Dl,Q as je}from"./_plugin-vue_export-helper-ChD5P9p2.js";import{t as Ol,p as ve,c as Ht,e as ll,f as It,g as al,h as Bt,i as nl,j as jl,k as St,_ as nt,l as ol,b as ot,m as tt,u as Hl,Q as Il,a as $e,d as At}from"./date-bOPwY_rS.js";import{Q as Yl,u as Tl,a as Pl,b as $l,c as Bl,d as Al,C as lt,e as Et,f as Qt,g as at,h as Nt,i as El,j as Ft}from"./use-quasar-Da3zgpNU.js";import{f as Ql,c as Nl,e as Fl}from"./position-engine-BV7Hw8j8.js";import{Q as Ut,a as Ul}from"./QScrollObserver-dJN9D3Dt.js";import{j as zt,k as Lt}from"./scroll-CQ8zjtpW.js";function Ll(){let e=Object.create(null);return{getCache:(f,k)=>e[f]===void 0?e[f]=typeof k=="function"?k():k:e[f],setCache(f,k){e[f]=k},hasCache(f){return Object.hasOwnProperty.call(e,f)},clearCache(f){f!==void 0?delete e[f]:e=Object.create(null)}}}const Rl=["gregorian","persian"],ht={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Rl.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},il=["update:modelValue"];function Me(e){return e.year+"/"+ve(e.month)+"/"+ve(e.day)}function rl(e,f){const k=h(()=>e.disable!==!0&&e.readonly!==!0),A=h(()=>k.value===!0?0:-1),n=h(()=>{const r=[];return e.color!==void 0&&r.push(`bg-${e.color}`),e.textColor!==void 0&&r.push(`text-${e.textColor}`),r.join(" ")});function c(){return e.locale!==void 0?{...f.lang.date,...e.locale}:f.lang.date}function d(r){const V=new Date,C=r===!0?null:0;if(e.calendar==="persian"){const U=Ol(V);return{year:U.jy,month:U.jm,day:U.jd}}return{year:V.getFullYear(),month:V.getMonth()+1,day:V.getDate(),hour:C,minute:C,second:C,millisecond:C}}return{editable:k,tabindex:A,headerClass:n,getLocale:c,getCurrentDate:d}}const ze=20,Kl=["Calendar","Years","Months"],Rt=e=>Kl.includes(e),Mt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ue=" â€” ";function He(e){return e.year+"/"+ve(e.month)}const Xl=Le({name:"QDate",props:{...ht,...ll,...Ht,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...ht.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Mt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Mt},navigationMaxYearMonth:{type:String,validator:Mt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Rt}},emits:[...il,"rangeStart","rangeEnd","navigation"],setup(e,{slots:f,emit:k}){const{proxy:A}=gt(),{$q:n}=A,c=It(e,n),{getCache:d}=Ll(),{tabindex:r,headerClass:V,getLocale:C,getCurrentDate:U}=rl(e,n);let L;const F=al(e),E=ol(F),X=z(null),O=z(rt()),$=z(C()),we=h(()=>rt()),qe=h(()=>C()),M=h(()=>U()),u=z(i(O.value,$.value)),P=z(e.defaultView),ke=h(()=>n.lang.rtl===!0?"right":"left"),ne=z(ke.value),ee=z(ke.value),le=u.value.year,ge=z(le-le%ze-(le<0?ze:0)),te=z(null),oe=h(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(c.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),W=h(()=>e.color||"primary"),p=h(()=>e.textColor||"white"),w=h(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),j=h(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),Q=h(()=>j.value.filter(t=>typeof t=="string").map(t=>Je(t,O.value,$.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),J=h(()=>{const t=l=>Je(l,O.value,$.value);return j.value.filter(l=>vl(l)===!0&&l.from!==void 0&&l.to!==void 0).map(l=>({from:t(l.from),to:t(l.to)})).filter(l=>l.from.dateHash!==null&&l.to.dateHash!==null&&l.from.dateHash<l.to.dateHash)}),ie=h(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const l=Bt(t.year,t.month,t.day);return new Date(l.gy,l.gm-1,l.gd)}),ye=h(()=>e.calendar==="persian"?Me:(t,l,o)=>nl(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),l===void 0?O.value:l,o===void 0?$.value:o,t.year,t.timezoneOffset)),me=h(()=>Q.value.length+J.value.reduce((t,l)=>t+1+jl(ie.value(l.to),ie.value(l.from)),0)),Ce=h(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(te.value!==null){const o=te.value.init,b=ie.value(o);return $.value.daysShort[b.getDay()]+", "+$.value.monthsShort[o.month-1]+" "+o.day+Ue+"?"}if(me.value===0)return Ue;if(me.value>1)return`${me.value} ${$.value.pluralDay}`;const t=Q.value[0],l=ie.value(t);return isNaN(l.valueOf())===!0?Ue:$.value.headerTitle!==void 0?$.value.headerTitle(l,t):$.value.daysShort[l.getDay()]+", "+$.value.monthsShort[t.month-1]+" "+t.day}),Ie=h(()=>Q.value.concat(J.value.map(l=>l.from)).sort((l,o)=>l.year-o.year||l.month-o.month)[0]),Ye=h(()=>Q.value.concat(J.value.map(l=>l.to)).sort((l,o)=>o.year-l.year||o.month-l.month)[0]),Ae=h(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(me.value===0)return Ue;if(me.value>1){const t=Ie.value,l=Ye.value,o=$.value.monthsShort;return o[t.month-1]+(t.year!==l.year?" "+t.year+Ue+o[l.month-1]+" ":t.month!==l.month?Ue+o[l.month-1]:"")+" "+l.year}return Q.value[0].year}),be=h(()=>{const t=[n.iconSet.datetime.arrowLeft,n.iconSet.datetime.arrowRight];return n.lang.rtl===!0?t.reverse():t}),De=h(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):$.value.firstDayOfWeek),Oe=h(()=>{const t=$.value.daysShort,l=De.value;return l>0?t.slice(l,7).concat(t.slice(0,l)):t}),ce=h(()=>{const t=u.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():St(t.year,t.month)}),x=h(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),a=h(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),s=h(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),R=h(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return a.value!==null&&a.value.year>=u.value.year&&(t.year.prev=!1,a.value.year===u.value.year&&a.value.month>=u.value.month&&(t.month.prev=!1)),s.value!==null&&s.value.year<=u.value.year&&(t.year.next=!1,s.value.year===u.value.year&&s.value.month<=u.value.month&&(t.month.next=!1)),t}),N=h(()=>{const t={};return Q.value.forEach(l=>{const o=He(l);t[o]===void 0&&(t[o]=[]),t[o].push(l.day)}),t}),fe=h(()=>{const t={};return J.value.forEach(l=>{const o=He(l.from),b=He(l.to);if(t[o]===void 0&&(t[o]=[]),t[o].push({from:l.from.day,to:o===b?l.to.day:void 0,range:l}),o<b){let _;const{year:I,month:q}=l.from,D=q<12?{year:I,month:q+1}:{year:I+1,month:1};for(;(_=He(D))<=b;)t[_]===void 0&&(t[_]=[]),t[_].push({from:void 0,to:_===b?l.to.day:void 0,range:l}),D.month++,D.month>12&&(D.year++,D.month=1)}}),t}),Te=h(()=>{if(te.value===null)return;const{init:t,initHash:l,final:o,finalHash:b}=te.value,[_,I]=l<=b?[t,o]:[o,t],q=He(_),D=He(I);if(q!==re.value&&D!==re.value)return;const K={};return q===re.value?(K.from=_.day,K.includeFrom=!0):K.from=1,D===re.value?(K.to=I.day,K.includeTo=!0):K.to=ce.value,K}),re=h(()=>He(u.value)),yt=h(()=>{const t={};if(e.options===void 0){for(let o=1;o<=ce.value;o++)t[o]=!0;return t}const l=typeof e.options=="function"?e.options:o=>e.options.includes(o);for(let o=1;o<=ce.value;o++){const b=re.value+"/"+ve(o);t[o]=l(b)}return t}),bt=h(()=>{const t={};if(e.events===void 0)for(let l=1;l<=ce.value;l++)t[l]=!1;else{const l=typeof e.events=="function"?e.events:o=>e.events.includes(o);for(let o=1;o<=ce.value;o++){const b=re.value+"/"+ve(o);t[o]=l(b)===!0&&x.value(b)}}return t}),Ee=h(()=>{let t,l;const{year:o,month:b}=u.value;if(e.calendar!=="persian")t=new Date(o,b-1,1),l=new Date(o,b-1,0).getDate();else{const _=Bt(o,b,1);t=new Date(_.gy,_.gm-1,_.gd);let I=b-1,q=o;I===0&&(I=12,q--),l=St(q,I)}return{days:t.getDay()-De.value-1,endDay:l}}),Pe=h(()=>{const t=[],{days:l,endDay:o}=Ee.value,b=l<0?l+7:l;if(b<6)for(let q=o-b;q<=o;q++)t.push({i:q,fill:!0});const _=t.length;for(let q=1;q<=ce.value;q++){const D={i:q,event:bt.value[q],classes:[]};yt.value[q]===!0&&(D.in=!0,D.flat=!0),t.push(D)}if(N.value[re.value]!==void 0&&N.value[re.value].forEach(q=>{const D=_+q-1;Object.assign(t[D],{selected:!0,unelevated:!0,flat:!1,color:W.value,textColor:p.value})}),fe.value[re.value]!==void 0&&fe.value[re.value].forEach(q=>{if(q.from!==void 0){const D=_+q.from-1,K=_+(q.to||ce.value)-1;for(let Ge=D;Ge<=K;Ge++)Object.assign(t[Ge],{range:q.range,unelevated:!0,color:W.value,textColor:p.value});Object.assign(t[D],{rangeFrom:!0,flat:!1}),q.to!==void 0&&Object.assign(t[K],{rangeTo:!0,flat:!1})}else if(q.to!==void 0){const D=_+q.to-1;for(let K=_;K<=D;K++)Object.assign(t[K],{range:q.range,unelevated:!0,color:W.value,textColor:p.value});Object.assign(t[D],{flat:!1,rangeTo:!0})}else{const D=_+ce.value-1;for(let K=_;K<=D;K++)Object.assign(t[K],{range:q.range,unelevated:!0,color:W.value,textColor:p.value})}}),Te.value!==void 0){const q=_+Te.value.from-1,D=_+Te.value.to-1;for(let K=q;K<=D;K++)t[K].color=W.value,t[K].editRange=!0;Te.value.includeFrom===!0&&(t[q].editRangeFrom=!0),Te.value.includeTo===!0&&(t[D].editRangeTo=!0)}u.value.year===M.value.year&&u.value.month===M.value.month&&(t[_+M.value.day-1].today=!0);const I=t.length%7;if(I>0){const q=7-I;for(let D=1;D<=q;D++)t.push({i:D,fill:!0})}return t.forEach(q=>{let D="q-date__calendar-item ";q.fill===!0?D+="q-date__calendar-item--fill":(D+=`q-date__calendar-item--${q.in===!0?"in":"out"}`,q.range!==void 0&&(D+=` q-date__range${q.rangeTo===!0?"-to":q.rangeFrom===!0?"-from":""}`),q.editRange===!0&&(D+=` q-date__edit-range${q.editRangeFrom===!0?"-from":""}${q.editRangeTo===!0?"-to":""}`),(q.range!==void 0||q.editRange===!0)&&(D+=` text-${q.color}`)),q.classes=D}),t}),Qe=h(()=>e.disable===!0?{"aria-disabled":"true"}:{});xe(()=>e.modelValue,t=>{if(L===JSON.stringify(t))L=0;else{const l=i(O.value,$.value);ue(l.year,l.month,l)}}),xe(P,()=>{X.value!==null&&A.$el.contains(document.activeElement)===!0&&X.value.focus()}),xe(()=>u.value.year+"|"+u.value.month,()=>{k("navigation",{year:u.value.year,month:u.value.month})}),xe(we,t=>{Pt(t,$.value,"mask"),O.value=t}),xe(qe,t=>{Pt(O.value,t,"locale"),$.value=t});function Re(t){L=JSON.stringify(t)}function Ke(){const{year:t,month:l,day:o}=M.value,b={...u.value,year:t,month:l,day:o},_=N.value[He(b)];(_===void 0||_.includes(b.day)===!1)&&pt(b),Se(b.year,b.month)}function it(t){Rt(t)===!0&&(P.value=t)}function Xe(t,l){["month","year"].includes(t)&&(t==="month"?S:Y)(l===!0?-1:1)}function Se(t,l){P.value="Calendar",ue(t,l)}function We(t,l){if(e.range===!1||!t){te.value=null;return}const o=Object.assign({...u.value},t),b=l!==void 0?Object.assign({...u.value},l):o;te.value={init:o,initHash:Me(o),final:b,finalHash:Me(b)},Se(o.year,o.month)}function rt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Je(t,l,o){return nt(t,l,o,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function i(t,l){const o=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(o.length===0)return v();const b=o[o.length-1],_=Je(b.from!==void 0?b.from:b,t,l);return _.dateHash===null?v():_}function v(){let t,l;if(e.defaultYearMonth!==void 0){const o=e.defaultYearMonth.split("/");t=parseInt(o[0],10),l=parseInt(o[1],10)}else{const o=M.value!==void 0?M.value:U();t=o.year,l=o.month}return{year:t,month:l,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+ve(l)+"/01"}}function S(t){let l=u.value.year,o=Number(u.value.month)+t;o===13?(o=1,l++):o===0&&(o=12,l--),ue(l,o),w.value===!0&&Ne("month")}function Y(t){const l=Number(u.value.year)+t;ue(l,u.value.month),w.value===!0&&Ne("year")}function G(t){ue(t,u.value.month),P.value=e.defaultView==="Years"?"Months":"Calendar",w.value===!0&&Ne("year")}function de(t){ue(u.value.year,t),P.value="Calendar",w.value===!0&&Ne("month")}function T(t,l){(N.value[l]?.includes(t.day)===!0?_t:pt)(t)}function Z(t){return{year:t.year,month:t.month,day:t.day}}function ue(t,l,o){if(a.value!==null&&t<=a.value.year&&((l<a.value.month||t<a.value.year)&&(l=a.value.month),t=a.value.year),s.value!==null&&t>=s.value.year&&((l>s.value.month||t>s.value.year)&&(l=s.value.month),t=s.value.year),o!==void 0){const{hour:_,minute:I,second:q,millisecond:D,timezoneOffset:K,timeHash:Ge}=o;Object.assign(u.value,{hour:_,minute:I,second:q,millisecond:D,timezoneOffset:K,timeHash:Ge})}const b=t+"/"+ve(l)+"/01";b!==u.value.dateHash&&(ne.value=u.value.dateHash<b==(n.lang.rtl!==!0)?"left":"right",t!==u.value.year&&(ee.value=ne.value),Ot(()=>{ge.value=t-t%ze-(t<0?ze:0),Object.assign(u.value,{year:t,month:l,day:1,dateHash:b})}))}function ut(t,l,o){const b=t!==null&&t.length===1&&e.multiple===!1?t[0]:t,{reason:_,details:I}=Tt(l,o);Re(b),k("update:modelValue",b,_,I)}function Ne(t){const l=Q.value[0]!==void 0&&Q.value[0].dateHash!==null?{...Q.value[0]}:{...u.value};Ot(()=>{l.year=u.value.year,l.month=u.value.month;const o=e.calendar!=="persian"?new Date(l.year,l.month,0).getDate():St(l.year,l.month);l.day=Math.min(Math.max(1,l.day),o);const b=Fe(l),{details:_}=Tt("",l);Re(b),k("update:modelValue",b,t,_)})}function Tt(t,l){return l.from!==void 0?{reason:`${t}-range`,details:{...Z(l.target),from:Z(l.from),to:Z(l.to)}}:{reason:`${t}-day`,details:Z(l)}}function Fe(t,l,o){return t.from!==void 0?{from:ye.value(t.from,l,o),to:ye.value(t.to,l,o)}:ye.value(t,l,o)}function pt(t){let l;if(e.multiple===!0)if(t.from!==void 0){const o=Me(t.from),b=Me(t.to),_=Q.value.filter(q=>q.dateHash<o||q.dateHash>b),I=J.value.filter(({from:q,to:D})=>D.dateHash<o||q.dateHash>b);l=_.concat(I).concat(t).map(q=>Fe(q))}else{const o=j.value.slice();o.push(Fe(t)),l=o}else l=Fe(t);ut(l,"add",t)}function _t(t){if(e.noUnset===!0)return;let l=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const o=Fe(t);t.from!==void 0?l=e.modelValue.filter(b=>b.from!==void 0?b.from!==o.from&&b.to!==o.to:!0):l=e.modelValue.filter(b=>b!==o),l.length===0&&(l=null)}ut(l,"remove",t)}function Pt(t,l,o){const b=Q.value.concat(J.value).map(I=>Fe(I,t,l)).filter(I=>I.from!==void 0?I.from.dateHash!==null&&I.to.dateHash!==null:I.dateHash!==null),_=(e.multiple===!0?b:b[0])||null;Re(_),k("update:modelValue",_,o)}function ul(){if(e.minimal!==!0)return m("div",{class:"q-date__header "+V.value},[m("div",{class:"relative-position"},[m(Be,{name:"q-transition--fade"},()=>m("div",{key:"h-yr-"+Ae.value,class:"q-date__header-subtitle q-date__header-link "+(P.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:r.value,...d("vY",{onClick(){P.value="Years"},onKeyup(t){t.keyCode===13&&(P.value="Years")}})},[Ae.value]))]),m("div",{class:"q-date__header-title relative-position flex no-wrap"},[m("div",{class:"relative-position col"},[m(Be,{name:"q-transition--fade"},()=>m("div",{key:"h-sub"+Ce.value,class:"q-date__header-title-label q-date__header-link "+(P.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:r.value,...d("vC",{onClick(){P.value="Calendar"},onKeyup(t){t.keyCode===13&&(P.value="Calendar")}})},[Ce.value]))]),e.todayBtn===!0?m(H,{class:"q-date__header-today self-start",icon:n.iconSet.datetime.today,"aria-label":n.lang.date.today,flat:!0,size:"sm",round:!0,tabindex:r.value,onClick:Ke}):null])])}function xt({label:t,type:l,key:o,dir:b,goTo:_,boundaries:I,cls:q}){return[m("div",{class:"row items-center q-date__arrow"},[m(H,{round:!0,dense:!0,size:"sm",flat:!0,icon:be.value[0],"aria-label":l==="Years"?n.lang.date.prevYear:n.lang.date.prevMonth,tabindex:r.value,disable:I.prev===!1,...d("go-#"+l,{onClick(){_(-1)}})})]),m("div",{class:"relative-position overflow-hidden flex flex-center"+q},[m(Be,{name:"q-transition--jump-"+b},()=>m("div",{key:o},[m(H,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:r.value,...d("view#"+l,{onClick:()=>{P.value=l}})})]))]),m("div",{class:"row items-center q-date__arrow"},[m(H,{round:!0,dense:!0,size:"sm",flat:!0,icon:be.value[1],"aria-label":l==="Years"?n.lang.date.nextYear:n.lang.date.nextMonth,tabindex:r.value,disable:I.next===!1,...d("go+#"+l,{onClick(){_(1)}})})])]}const sl={Calendar:()=>[m("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[m("div",{class:"q-date__navigation row items-center no-wrap"},xt({label:$.value.months[u.value.month-1],type:"Months",key:u.value.month,dir:ne.value,goTo:S,boundaries:R.value.month,cls:" col"}).concat(xt({label:u.value.year,type:"Years",key:u.value.year,dir:ee.value,goTo:Y,boundaries:R.value.year,cls:""}))),m("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Oe.value.map(t=>m("div",{class:"q-date__calendar-item"},[m("div",t)]))),m("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[m(Be,{name:"q-transition--slide-"+ne.value},()=>m("div",{key:re.value,class:"q-date__calendar-days fit"},Pe.value.map(t=>m("div",{class:t.classes},[t.in===!0?m(H,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:r.value,...d("day#"+t.i,{onClick:()=>{cl(t.i)},onMouseover:()=>{dl(t.i)}})},t.event!==!1?()=>m("div",{class:"q-date__event bg-"+t.event}):null):m("div",""+t.i)]))))])])],Months(){const t=u.value.year===M.value.year,l=b=>a.value!==null&&u.value.year===a.value.year&&a.value.month>b||s.value!==null&&u.value.year===s.value.year&&s.value.month<b,o=$.value.monthsShort.map((b,_)=>{const I=u.value.month===_+1;return m("div",{class:"q-date__months-item flex flex-center"},[m(H,{class:t===!0&&M.value.month===_+1?"q-date__today":null,flat:I!==!0,label:b,unelevated:I,color:I===!0?W.value:null,textColor:I===!0?p.value:null,tabindex:r.value,disable:l(_+1),...d("month#"+_,{onClick:()=>{de(_+1)}})})])});return e.yearsInMonthView===!0&&o.unshift(m("div",{class:"row no-wrap full-width"},[xt({label:u.value.year,type:"Years",key:u.value.year,dir:ee.value,goTo:Y,boundaries:R.value.year,cls:" col"})])),m("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},o)},Years(){const t=ge.value,l=t+ze,o=[],b=_=>a.value!==null&&a.value.year>_||s.value!==null&&s.value.year<_;for(let _=t;_<=l;_++){const I=u.value.year===_;o.push(m("div",{class:"q-date__years-item flex flex-center"},[m(H,{key:"yr"+_,class:M.value.year===_?"q-date__today":null,flat:!I,label:_,dense:!0,unelevated:I,color:I===!0?W.value:null,textColor:I===!0?p.value:null,tabindex:r.value,disable:b(_),...d("yr#"+_,{onClick:()=>{G(_)}})})]))}return m("div",{class:"q-date__view q-date__years flex flex-center"},[m("div",{class:"col-auto"},[m(H,{round:!0,dense:!0,flat:!0,icon:be.value[0],"aria-label":n.lang.date.prevRangeYears(ze),tabindex:r.value,disable:b(t),...d("y-",{onClick:()=>{ge.value-=ze}})})]),m("div",{class:"q-date__years-content col self-stretch row items-center"},o),m("div",{class:"col-auto"},[m(H,{round:!0,dense:!0,flat:!0,icon:be.value[1],"aria-label":n.lang.date.nextRangeYears(ze),tabindex:r.value,disable:b(l),...d("y+",{onClick:()=>{ge.value+=ze}})})])])}};function cl(t){const l={...u.value,day:t};if(e.range===!1){T(l,re.value);return}if(te.value===null){const o=Pe.value.find(_=>_.fill!==!0&&_.i===t);if(e.noUnset!==!0&&o.range!==void 0){_t({target:l,from:o.range.from,to:o.range.to});return}if(o.selected===!0){_t(l);return}const b=Me(l);te.value={init:l,initHash:b,final:l,finalHash:b},k("rangeStart",Z(l))}else{const o=te.value.initHash,b=Me(l),_=o<=b?{from:te.value.init,to:l}:{from:l,to:te.value.init};te.value=null,pt(o===b?l:{target:l,..._}),k("rangeEnd",{from:Z(_.from),to:Z(_.to)})}}function dl(t){if(te.value!==null){const l={...u.value,day:t};Object.assign(te.value,{final:l,finalHash:Me(l)})}}return Object.assign(A,{setToday:Ke,setView:it,offsetCalendar:Xe,setCalendarTo:Se,setEditingRange:We}),()=>{const t=[m("div",{class:"q-date__content col relative-position"},[m(Be,{name:"q-transition--fade"},sl[P.value])])],l=tl(f.default);return l!==void 0&&t.push(m("div",{class:"q-date__actions"},l)),e.name!==void 0&&e.disable!==!0&&E(t,"push"),m("div",{class:oe.value,...Qe.value},[ul(),m("div",{ref:X,class:"q-date__main col column",tabindex:-1},t)])}}}),Kt=Le({name:"QPopupProxy",props:{...Ql,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:f,emit:k,attrs:A}){const{proxy:n}=gt(),{$q:c}=n,d=z(!1),r=z(null),V=h(()=>parseInt(e.breakpoint,10)),{canShow:C}=Nl({showing:d});function U(){return c.screen.width<V.value||c.screen.height<V.value?"dialog":"menu"}const L=z(U()),F=h(()=>L.value==="menu"?{maxHeight:"99vh"}:{});xe(()=>U(),O=>{d.value!==!0&&(L.value=O)});function E(O){d.value=!0,k("show",O)}function X(O){d.value=!1,L.value=U(),k("hide",O)}return Object.assign(n,{show(O){C(O)===!0&&r.value.show(O)},hide(O){r.value.hide(O)},toggle(O){r.value.toggle(O)}}),ml(n,"currentComponent",()=>({type:L.value,ref:r.value})),()=>{const O={ref:r,...F.value,...A,onShow:E,onHide:X};let $;return L.value==="dialog"?$=ot:($=Yl,Object.assign(O,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),m($,O,f.default)}}}),Yt={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Wl=Object.keys(Yt);Yt.all=!0;function Xt(e){const f={};for(const k of Wl)e[k]===!0&&(f[k]=!0);return Object.keys(f).length===0?Yt:(f.horizontal===!0?f.left=f.right=!0:f.left===!0&&f.right===!0&&(f.horizontal=!0),f.vertical===!0?f.up=f.down=!0:f.up===!0&&f.down===!0&&(f.vertical=!0),f.horizontal===!0&&f.vertical===!0&&(f.all=!0),f)}const Jl=["INPUT","TEXTAREA"];function Wt(e,f){return f.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof f.handler=="function"&&Jl.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(f.uid)===-1)}function Vt(e,f,k){const A=ft(e);let n,c=A.left-f.event.x,d=A.top-f.event.y,r=Math.abs(c),V=Math.abs(d);const C=f.direction;C.horizontal===!0&&C.vertical!==!0?n=c<0?"left":"right":C.horizontal!==!0&&C.vertical===!0?n=d<0?"up":"down":C.up===!0&&d<0?(n="up",r>V&&(C.left===!0&&c<0?n="left":C.right===!0&&c>0&&(n="right"))):C.down===!0&&d>0?(n="down",r>V&&(C.left===!0&&c<0?n="left":C.right===!0&&c>0&&(n="right"))):C.left===!0&&c<0?(n="left",r<V&&(C.up===!0&&d<0?n="up":C.down===!0&&d>0&&(n="down"))):C.right===!0&&c>0&&(n="right",r<V&&(C.up===!0&&d<0?n="up":C.down===!0&&d>0&&(n="down")));let U=!1;if(n===void 0&&k===!1){if(f.event.isFirst===!0||f.event.lastDir===void 0)return{};n=f.event.lastDir,U=!0,n==="left"||n==="right"?(A.left-=c,r=0,c=0):(A.top-=d,V=0,d=0)}return{synthetic:U,payload:{evt:e,touch:f.event.mouse!==!0,mouse:f.event.mouse===!0,position:A,direction:n,isFirst:f.event.isFirst,isFinal:k===!0,duration:Date.now()-f.event.time,distance:{x:r,y:V},offset:{x:c,y:d},delta:{x:A.left-f.event.lastX,y:A.top-f.event.lastY}}}}let Gl=0;const jt=fl({name:"touch-pan",beforeMount(e,{value:f,modifiers:k}){if(k.mouse!==!0&&Ze.has.touch!==!0)return;function A(c,d){k.mouse===!0&&d===!0?yl(c):(k.stop===!0&&kt(c),k.prevent===!0&&$t(c))}const n={uid:"qvtp_"+Gl++,handler:f,modifiers:k,direction:Xt(k),noop:hl,mouseStart(c){Wt(c,n)&&gl(c)&&(st(n,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),n.start(c,!0))},touchStart(c){if(Wt(c,n)){const d=c.target;st(n,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","passiveCapture"],[d,"touchend","end","passiveCapture"]]),n.start(c)}},start(c,d){if(Ze.is.firefox===!0&&qt(e,!0),n.lastEvt=c,d===!0||k.stop===!0){if(n.direction.all!==!0&&(d!==!0||n.modifiers.mouseAllDir!==!0&&n.modifiers.mousealldir!==!0)){const C=c.type.indexOf("mouse")!==-1?new MouseEvent(c.type,c):new TouchEvent(c.type,c);c.defaultPrevented===!0&&$t(C),c.cancelBubble===!0&&kt(C),Object.assign(C,{qKeyEvent:c.qKeyEvent,qClickOutside:c.qClickOutside,qAnchorHandled:c.qAnchorHandled,qClonedBy:c.qClonedBy===void 0?[n.uid]:c.qClonedBy.concat(n.uid)}),n.initialEvent={target:c.target,event:C}}kt(c)}const{left:r,top:V}=ft(c);n.event={x:r,y:V,time:Date.now(),mouse:d===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:r,lastY:V}},move(c){if(n.event===void 0)return;const d=ft(c),r=d.left-n.event.x,V=d.top-n.event.y;if(r===0&&V===0)return;n.lastEvt=c;const C=n.event.mouse===!0,U=()=>{A(c,C);let E;k.preserveCursor!==!0&&k.preservecursor!==!0&&(E=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),C===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Fl(),n.styleCleanup=X=>{if(n.styleCleanup=void 0,E!==void 0&&(document.documentElement.style.cursor=E),document.body.classList.remove("non-selectable"),C===!0){const O=()=>{document.body.classList.remove("no-pointer-events--children")};X!==void 0?setTimeout(()=>{O(),X()},50):O()}else X!==void 0&&X()}};if(n.event.detected===!0){n.event.isFirst!==!0&&A(c,n.event.mouse);const{payload:E,synthetic:X}=Vt(c,n,!1);E!==void 0&&(n.handler(E)===!1?n.end(c):(n.styleCleanup===void 0&&n.event.isFirst===!0&&U(),n.event.lastX=E.position.left,n.event.lastY=E.position.top,n.event.lastDir=X===!0?void 0:E.direction,n.event.isFirst=!1));return}if(n.direction.all===!0||C===!0&&(n.modifiers.mouseAllDir===!0||n.modifiers.mousealldir===!0)){U(),n.event.detected=!0,n.move(c);return}const L=Math.abs(r),F=Math.abs(V);L!==F&&(n.direction.horizontal===!0&&L>F||n.direction.vertical===!0&&L<F||n.direction.up===!0&&L<F&&V<0||n.direction.down===!0&&L<F&&V>0||n.direction.left===!0&&L>F&&r<0||n.direction.right===!0&&L>F&&r>0?(n.event.detected=!0,n.move(c)):n.end(c,!0))},end(c,d){if(n.event!==void 0){if(wt(n,"temp"),Ze.is.firefox===!0&&qt(e,!1),d===!0)n.styleCleanup?.(),n.event.detected!==!0&&n.initialEvent!==void 0&&n.initialEvent.target.dispatchEvent(n.initialEvent.event);else if(n.event.detected===!0){n.event.isFirst===!0&&n.handler(Vt(c===void 0?n.lastEvt:c,n).payload);const{payload:r}=Vt(c===void 0?n.lastEvt:c,n,!0),V=()=>{n.handler(r)};n.styleCleanup!==void 0?n.styleCleanup(V):V()}n.event=void 0,n.initialEvent=void 0,n.lastEvt=void 0}}};if(e.__qtouchpan=n,k.mouse===!0){const c=k.mouseCapture===!0||k.mousecapture===!0?"Capture":"";st(n,"main",[[e,"mousedown","mouseStart",`passive${c}`]])}Ze.has.touch===!0&&st(n,"main",[[e,"touchstart","touchStart",`passive${k.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,f){const k=e.__qtouchpan;k!==void 0&&(f.oldValue!==f.value&&(typeof value!="function"&&k.end(),k.handler=f.value),k.direction=Xt(f.modifiers))},beforeUnmount(e){const f=e.__qtouchpan;f!==void 0&&(f.event!==void 0&&f.end(),wt(f,"main"),wt(f,"temp"),Ze.is.firefox===!0&&qt(e,!1),f.styleCleanup?.(),delete e.__qtouchpan)}});function Zl(e,f){return e.hour!==null&&e.minute===null?"minute":"hour"}function ea(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}const ta=Le({name:"QTime",props:{...Ht,...ll,...ht,modelValue:{required:!0,validator:e=>typeof e=="string"||e===null},mask:{...ht.mask,default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:il,setup(e,{slots:f,emit:k}){const A=gt(),{$q:n}=A.proxy,c=It(e,n),{tabindex:d,headerClass:r,getLocale:V,getCurrentDate:C}=rl(e,n),U=al(e),L=ol(U);let F,E;const X=z(null),O=h(()=>Ae()),$=h(()=>V()),we=h(()=>be()),qe=nt(e.modelValue,O.value,$.value,e.calendar,we.value),M=z(Zl(qe)),u=z(qe),P=z(qe.hour===null||qe.hour<12),ke=h(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(c.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),ne=h(()=>{const i=u.value;return{hour:i.hour===null?"--":ee.value===!0?ve(i.hour):String(P.value===!0?i.hour===0?12:i.hour:i.hour>12?i.hour-12:i.hour),minute:i.minute===null?"--":ve(i.minute),second:i.second===null?"--":ve(i.second)}}),ee=h(()=>e.format24h!==null?e.format24h:n.lang.date.format24h),le=h(()=>{const i=M.value==="hour",v=i===!0?12:60,S=u.value[M.value];let G=`rotate(${Math.round(S*(360/v))-180}deg) translateX(-50%)`;return i===!0&&ee.value===!0&&u.value.hour>=12&&(G+=" scale(.7)"),{transform:G}}),ge=h(()=>u.value.hour!==null),te=h(()=>ge.value===!0&&u.value.minute!==null),oe=h(()=>e.hourOptions!==void 0?i=>e.hourOptions.includes(i):e.options!==void 0?i=>e.options(i,null,null):null),W=h(()=>e.minuteOptions!==void 0?i=>e.minuteOptions.includes(i):e.options!==void 0?i=>e.options(u.value.hour,i,null):null),p=h(()=>e.secondOptions!==void 0?i=>e.secondOptions.includes(i):e.options!==void 0?i=>e.options(u.value.hour,u.value.minute,i):null),w=h(()=>{if(oe.value===null)return null;const i=Ce(0,11,oe.value),v=Ce(12,11,oe.value);return{am:i,pm:v,values:i.values.concat(v.values)}}),j=h(()=>W.value!==null?Ce(0,59,W.value):null),Q=h(()=>p.value!==null?Ce(0,59,p.value):null),J=h(()=>{switch(M.value){case"hour":return w.value;case"minute":return j.value;case"second":return Q.value}}),ie=h(()=>{let i,v,S=0,Y=1;const G=J.value!==null?J.value.values:void 0;M.value==="hour"?ee.value===!0?(i=0,v=23):(i=0,v=11,P.value===!1&&(S=12)):(i=0,v=55,Y=5);const de=[];for(let T=i,Z=i;T<=v;T+=Y,Z++){const ue=T+S,ut=G?.includes(ue)===!1,Ne=M.value==="hour"&&T===0?ee.value===!0?"00":"12":T;de.push({val:ue,index:Z,disable:ut,label:Ne})}return de}),ye=h(()=>[[jt,ce,void 0,{stop:!0,prevent:!0,mouse:!0}]]);xe(()=>e.modelValue,i=>{const v=nt(i,O.value,$.value,e.calendar,we.value);(v.dateHash!==u.value.dateHash||v.timeHash!==u.value.timeHash)&&(u.value=v,v.hour===null?M.value="hour":P.value=v.hour<12)}),xe([O,$],()=>{Ot(()=>{We()})});function me(){const i={...C(),...ea()};We(i),Object.assign(u.value,i),M.value="hour"}function Ce(i,v,S){const Y=Array.apply(null,{length:v+1}).map((G,de)=>{const T=de+i;return{index:T,val:S(T)===!0}}).filter(G=>G.val===!0).map(G=>G.index);return{min:Y[0],max:Y[Y.length-1],values:Y,threshold:v+1}}function Ie(i,v,S){const Y=Math.abs(i-v);return Math.min(Y,S-Y)}function Ye(i,{min:v,max:S,values:Y,threshold:G}){if(i===v)return v;if(i<v||i>S)return Ie(i,v,G)<=Ie(i,S,G)?v:S;const de=Y.findIndex(ue=>i<=ue),T=Y[de-1],Z=Y[de];return i-T<=Z-i?T:Z}function Ae(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function be(){if(typeof e.defaultDate!="string"){const i=C(!0);return i.dateHash=Me(i),i}return nt(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function De(){return bl(A)===!0||J.value!==null&&(J.value.values.length===0||M.value==="hour"&&ee.value!==!0&&w.value[P.value===!0?"am":"pm"].values.length===0)}function Oe(){const i=X.value,{top:v,left:S,width:Y}=i.getBoundingClientRect(),G=Y/2;return{top:v+G,left:S+G,dist:G*.7}}function ce(i){if(De()!==!0){if(i.isFirst===!0){F=Oe(),E=a(i.evt,F);return}E=a(i.evt,F,E),i.isFinal===!0&&(F=!1,E=null,x())}}function x(){M.value==="hour"?M.value="minute":e.withSeconds&&M.value==="minute"&&(M.value="second")}function a(i,v,S){const Y=ft(i),G=Math.abs(Y.top-v.top),de=Math.sqrt(Math.pow(Math.abs(Y.top-v.top),2)+Math.pow(Math.abs(Y.left-v.left),2));let T,Z=Math.asin(G/de)*(180/Math.PI);if(Y.top<v.top?Z=v.left<Y.left?90-Z:270+Z:Z=v.left<Y.left?Z+90:270-Z,M.value==="hour"){if(T=Z/30,w.value!==null){const ue=ee.value!==!0?P.value===!0:w.value.am.values.length!==0&&w.value.pm.values.length!==0?de>=v.dist:w.value.am.values.length!==0;T=Ye(T+(ue===!0?0:12),w.value[ue===!0?"am":"pm"])}else T=Math.round(T),ee.value===!0?de<v.dist?T<12&&(T+=12):T===12&&(T=0):P.value===!0&&T===12?T=0:P.value===!1&&T!==12&&(T+=12);ee.value===!0&&(P.value=T<12)}else T=Math.round(Z/6)%60,M.value==="minute"&&j.value!==null?T=Ye(T,j.value):M.value==="second"&&Q.value!==null&&(T=Ye(T,Q.value));return S!==T&&Re[M.value](T),T}const s={hour(){M.value="hour"},minute(){M.value="minute"},second(){M.value="second"}};function R(i){i.keyCode===13&&Ke()}function N(i){i.keyCode===13&&it()}function fe(i){De()!==!0&&(n.platform.is.desktop!==!0&&a(i,Oe()),x())}function Te(i){De()!==!0&&a(i,Oe())}function re(i){if(i.keyCode===13)M.value="hour";else if([37,39].includes(i.keyCode)){const v=i.keyCode===37?-1:1;if(w.value!==null){const S=ee.value===!0?w.value.values:w.value[P.value===!0?"am":"pm"].values;if(S.length===0)return;if(u.value.hour===null)Ee(S[0]);else{const Y=(S.length+S.indexOf(u.value.hour)+v)%S.length;Ee(S[Y])}}else{const S=ee.value===!0?24:12,Y=ee.value!==!0&&P.value===!1?12:0,G=u.value.hour===null?-v:u.value.hour;Ee(Y+(24+G+v)%S)}}}function yt(i){if(i.keyCode===13)M.value="minute";else if([37,39].includes(i.keyCode)){const v=i.keyCode===37?-1:1;if(j.value!==null){const S=j.value.values;if(S.length===0)return;if(u.value.minute===null)Pe(S[0]);else{const Y=(S.length+S.indexOf(u.value.minute)+v)%S.length;Pe(S[Y])}}else{const S=u.value.minute===null?-v:u.value.minute;Pe((60+S+v)%60)}}}function bt(i){if(i.keyCode===13)M.value="second";else if([37,39].includes(i.keyCode)){const v=i.keyCode===37?-1:1;if(Q.value!==null){const S=Q.value.values;if(S.length===0)return;if(u.value.seconds===null)Qe(S[0]);else{const Y=(S.length+S.indexOf(u.value.second)+v)%S.length;Qe(S[Y])}}else{const S=u.value.second===null?-v:u.value.second;Qe((60+S+v)%60)}}}function Ee(i){u.value.hour!==i&&(u.value.hour=i,Se())}function Pe(i){u.value.minute!==i&&(u.value.minute=i,Se())}function Qe(i){u.value.second!==i&&(u.value.second=i,Se())}const Re={hour:Ee,minute:Pe,second:Qe};function Ke(){P.value===!1&&(P.value=!0,u.value.hour!==null&&(u.value.hour-=12,Se()))}function it(){P.value===!0&&(P.value=!1,u.value.hour!==null&&(u.value.hour+=12,Se()))}function Xe(i){const v=e.modelValue;M.value!==i&&v!==void 0&&v!==null&&v!==""&&typeof v!="string"&&(M.value=i)}function Se(){if(oe.value!==null&&oe.value(u.value.hour)!==!0){u.value=nt(),Xe("hour");return}if(W.value!==null&&W.value(u.value.minute)!==!0){u.value.minute=null,u.value.second=null,Xe("minute");return}if(e.withSeconds===!0&&p.value!==null&&p.value(u.value.second)!==!0){u.value.second=null,Xe("second");return}u.value.hour===null||u.value.minute===null||e.withSeconds===!0&&u.value.second===null||We()}function We(i){const v=Object.assign({...u.value},i),S=e.calendar==="persian"?ve(v.hour)+":"+ve(v.minute)+(e.withSeconds===!0?":"+ve(v.second):""):nl(new Date(v.year,v.month===null?null:v.month-1,v.day,v.hour,v.minute,v.second,v.millisecond),O.value,$.value,v.year,v.timezoneOffset);v.changed=S!==e.modelValue,k("update:modelValue",S,v)}function rt(){const i=[m("div",{class:"q-time__link "+(M.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:d.value,onClick:s.hour,onKeyup:re},ne.value.hour),m("div",":"),m("div",ge.value===!0?{class:"q-time__link "+(M.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:d.value,onKeyup:yt,onClick:s.minute}:{class:"q-time__link"},ne.value.minute)];e.withSeconds===!0&&i.push(m("div",":"),m("div",te.value===!0?{class:"q-time__link "+(M.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:d.value,onKeyup:bt,onClick:s.second}:{class:"q-time__link"},ne.value.second));const v=[m("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},i)];return ee.value===!1&&v.push(m("div",{class:"q-time__header-ampm column items-between no-wrap"},[m("div",{class:"q-time__link "+(P.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:d.value,onClick:Ke,onKeyup:R},"AM"),m("div",{class:"q-time__link "+(P.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:d.value,onClick:it,onKeyup:N},"PM")])),m("div",{class:"q-time__header flex flex-center no-wrap "+r.value},v)}function Je(){const i=u.value[M.value];return m("div",{class:"q-time__content col relative-position"},[m(Be,{name:"q-transition--scale"},()=>m("div",{key:"clock"+M.value,class:"q-time__container-parent absolute-full"},[m("div",{ref:X,class:"q-time__container-child fit overflow-hidden"},[Ve(m("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:fe,onMousedown:Te},[m("div",{class:"q-time__clock-circle fit"},[m("div",{class:"q-time__clock-pointer"+(u.value[M.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:le.value}),ie.value.map(v=>m("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${v.index}`+(v.val===i?" q-time__clock-position--active "+r.value:v.disable===!0?" q-time__clock-position--disable":"")},[m("span",v.label)]))])]),ye.value)])])),e.nowBtn===!0?m(H,{class:"q-time__now-button absolute",icon:n.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:d.value,onClick:me}):null])}return A.proxy.setNow=me,()=>{const i=[Je()],v=tl(f.default);return v!==void 0&&i.push(m("div",{class:"q-time__actions"},v)),e.name!==void 0&&e.disable!==!0&&L(i,"push"),m("div",{class:ke.value,tabindex:-1},[rt(),m("div",{class:"q-time__main col overflow-auto"},i)])}}}),la=Le({name:"QToggle",props:{...Tl,icon:String,iconColor:String},emits:Pl,setup(e){function f(k,A){const n=h(()=>(k.value===!0?e.checkedIcon:A.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),c=h(()=>k.value===!0?e.iconColor:null);return()=>[m("div",{class:"q-toggle__track"}),m("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},n.value!==void 0?[m(_e,{name:n.value,color:c.value})]:void 0)]}return $l("toggle",f)}}),aa=Le({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[m("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),m("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),Ve(m("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),Ve(m("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),Jt=["vertical","horizontal"],Dt={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Gt={prevent:!0,mouse:!0,mouseAllDir:!0},Zt=e=>e>=250?50:Math.ceil(e/5),el=Le({name:"QScrollArea",props:{...Ht,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:f,emit:k}){const A=z(!1),n=z(!1),c=z(!1),d={vertical:z(0),horizontal:z(0)},r={vertical:{ref:z(null),position:z(0),size:z(0)},horizontal:{ref:z(null),position:z(0),size:z(0)}},{proxy:V}=gt(),C=It(e,V.$q);let U=null,L;const F=z(null),E=h(()=>"q-scrollarea"+(C.value===!0?" q-scrollarea--dark":""));Object.assign(d,{verticalInner:h(()=>d.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:h(()=>d.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),r.vertical.percentage=h(()=>{const p=r.vertical.size.value-d.vertical.value;if(p<=0)return 0;const w=tt(r.vertical.position.value/p,0,1);return Math.round(w*1e4)/1e4}),r.vertical.thumbHidden=h(()=>(e.visible===null?c.value:e.visible)!==!0&&A.value===!1&&n.value===!1||r.vertical.size.value<=d.vertical.value+1),r.vertical.thumbStart=h(()=>e.verticalOffset[0]+r.vertical.percentage.value*(d.verticalInner.value-r.vertical.thumbSize.value)),r.vertical.thumbSize=h(()=>Math.round(tt(d.verticalInner.value*d.verticalInner.value/r.vertical.size.value,Zt(d.verticalInner.value),d.verticalInner.value))),r.vertical.style=h(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${r.vertical.thumbStart.value}px`,height:`${r.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),r.vertical.thumbClass=h(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(r.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),r.vertical.barClass=h(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(r.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),r.horizontal.percentage=h(()=>{const p=r.horizontal.size.value-d.horizontal.value;if(p<=0)return 0;const w=tt(Math.abs(r.horizontal.position.value)/p,0,1);return Math.round(w*1e4)/1e4}),r.horizontal.thumbHidden=h(()=>(e.visible===null?c.value:e.visible)!==!0&&A.value===!1&&n.value===!1||r.horizontal.size.value<=d.horizontal.value+1),r.horizontal.thumbStart=h(()=>e.horizontalOffset[0]+r.horizontal.percentage.value*(d.horizontalInner.value-r.horizontal.thumbSize.value)),r.horizontal.thumbSize=h(()=>Math.round(tt(d.horizontalInner.value*d.horizontalInner.value/r.horizontal.size.value,Zt(d.horizontalInner.value),d.horizontalInner.value))),r.horizontal.style=h(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[V.$q.lang.rtl===!0?"right":"left"]:`${r.horizontal.thumbStart.value}px`,width:`${r.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),r.horizontal.thumbClass=h(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(r.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),r.horizontal.barClass=h(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(r.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const X=h(()=>r.vertical.thumbHidden.value===!0&&r.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function O(){const p={};return Jt.forEach(w=>{const j=r[w];Object.assign(p,{[w+"Position"]:j.position.value,[w+"Percentage"]:j.percentage.value,[w+"Size"]:j.size.value,[w+"ContainerSize"]:d[w].value,[w+"ContainerInnerSize"]:d[w+"Inner"].value})}),p}const $=pl(()=>{const p=O();p.ref=V,k("scroll",p)},0);function we(p,w,j){if(Jt.includes(p)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(p==="vertical"?Lt:zt)(F.value,w,j)}function qe({height:p,width:w}){let j=!1;d.vertical.value!==p&&(d.vertical.value=p,j=!0),d.horizontal.value!==w&&(d.horizontal.value=w,j=!0),j===!0&&ne()}function M({position:p}){let w=!1;r.vertical.position.value!==p.top&&(r.vertical.position.value=p.top,w=!0),r.horizontal.position.value!==p.left&&(r.horizontal.position.value=p.left,w=!0),w===!0&&ne()}function u({height:p,width:w}){r.horizontal.size.value!==w&&(r.horizontal.size.value=w,ne()),r.vertical.size.value!==p&&(r.vertical.size.value=p,ne())}function P(p,w){const j=r[w];if(p.isFirst===!0){if(j.thumbHidden.value===!0)return;L=j.position.value,n.value=!0}else if(n.value!==!0)return;p.isFinal===!0&&(n.value=!1);const Q=Dt[w],J=(j.size.value-d[w].value)/(d[w+"Inner"].value-j.thumbSize.value),ie=p.distance[Q.dist],ye=L+(p.direction===Q.dir?1:-1)*ie*J;ee(ye,w)}function ke(p,w){const j=r[w];if(j.thumbHidden.value!==!0){const Q=w==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],J=p[Dt[w].offset]-Q,ie=j.thumbStart.value-Q;if(J<ie||J>ie+j.thumbSize.value){const ye=J-j.thumbSize.value/2,me=tt(ye/(d[w+"Inner"].value-j.thumbSize.value),0,1);ee(me*Math.max(0,j.size.value-d[w].value),w)}j.ref.value!==null&&j.ref.value.dispatchEvent(new MouseEvent(p.type,p))}}function ne(){A.value=!0,U!==null&&clearTimeout(U),U=setTimeout(()=>{U=null,A.value=!1},e.delay),e.onScroll!==void 0&&$()}function ee(p,w){F.value[Dt[w].scroll]=p}let le=null;function ge(){le!==null&&clearTimeout(le),le=setTimeout(()=>{le=null,c.value=!0},V.$q.platform.is.ios?50:0)}function te(){le!==null&&(clearTimeout(le),le=null),c.value=!1}let oe=null;xe(()=>V.$q.lang.rtl,p=>{F.value!==null&&zt(F.value,Math.abs(r.horizontal.position.value)*(p===!0?-1:1))}),_l(()=>{oe={top:r.vertical.position.value,left:r.horizontal.position.value}}),xl(()=>{if(oe===null)return;const p=F.value;p!==null&&(zt(p,oe.left),Lt(p,oe.top))}),wl($.cancel),Object.assign(V,{getScrollTarget:()=>F.value,getScroll:O,getScrollPosition:()=>({top:r.vertical.position.value,left:r.horizontal.position.value}),getScrollPercentage:()=>({top:r.vertical.percentage.value,left:r.horizontal.percentage.value}),setScrollPosition:we,setScrollPercentage(p,w,j){we(p,w*(r[p].size.value-d[p].value)*(p==="horizontal"&&V.$q.lang.rtl===!0?-1:1),j)}});const W={scroll:r,thumbVertDir:[[jt,p=>{P(p,"vertical")},void 0,{vertical:!0,...Gt}]],thumbHorizDir:[[jt,p=>{P(p,"horizontal")},void 0,{horizontal:!0,...Gt}]],onVerticalMousedown(p){ke(p,"vertical")},onHorizontalMousedown(p){ke(p,"horizontal")}};return()=>m("div",{class:E.value,onMouseenter:ge,onMouseleave:te},[m("div",{ref:F,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[m("div",{class:"q-scrollarea__content absolute",style:X.value},ql(f.default,[m(Ut,{debounce:0,onResize:u})])),m(Ul,{axis:"both",onScroll:M})]),m(Ut,{debounce:0,onResize:qe}),m(aa,{store:W,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),na={key:0,class:"fullscreen column flex-center q-pa-md z-max",style:{background:"rgba(255, 253, 245, 0.8)","backdrop-filter":"blur(5px)"}},oa={class:"q-mb-lg"},ia={class:"cookie-box inline-block q-pa-md bg-orange-1",style:{"border-radius":"50%"}},ra={class:"cookie-box q-mb-lg"},ua={key:1,class:"row q-col-gutter-lg full-height"},sa={class:"row q-col-gutter-lg full-height"},ca={class:"col-12 col-md-5 column q-gutter-y-md"},da={class:"row justify-between"},va={class:"text-h5 text-weight-bolder text-primary q-ml-sm row items-center"},ma={class:"text-h1 text-weight-bolder text-primary lh-1 q-my-md shadow-text-light",style:{"font-size":"6rem"}},fa={class:"column full-width"},ha={key:0,class:"q-mb-sm"},ga={class:"row justify-between items-end q-mb-xs"},ya={class:"text-caption text-orange-8 text-weight-bold"},ba={class:"text-h6 text-deep-orange text-weight-bolder lh-1"},pa={class:"gt-sm q-mt-xl column q-gutter-y-md"},_a={class:"row q-col-gutter-md items-center"},xa={class:"col-12 col-sm-7"},wa={class:"row items-center justify-end"},qa={class:"row items-center justify-end"},ka={class:"col-12 col-sm-5 row justify-end q-gutter-x-sm"},Ca={class:"col-12 col-md-7"},Sa={class:"row items-center justify-between q-mb-md"},za={class:"column q-gutter-y-md scroll-container",style:{"padding-bottom":"150px"}},Ma={class:"col column justify-center q-mr-md"},Va={class:"cookie-box q-mb-sm full-width"},Da={class:"row items-center q-mb-sm"},Oa={class:"row items-center justify-between full-width q-mt-xs"},ja={class:"row items-center q-gutter-x-sm"},Ha={class:"cookie-box row items-center q-px-sm bg-yellow-1",style:{"border-radius":"12px"}},Ia={class:"row items-center cookie-box q-pa-xs"},Ya={class:"row items-center"},Ta={class:"text-h6 text-pink-4 text-weight-bold q-mr-sm",style:{"white-space":"nowrap"}},Pa={class:"row items-center cookie-box bg-pink-1 q-pa-xs",style:{"border-radius":"12px"}},$a={class:"column items-center justify-center q-pl-md border-left q-gutter-y-sm",style:{"min-width":"80px"}},Ba={class:"lt-md fixed-bottom q-pa-md glass-footer z-top"},Aa={class:"row q-col-gutter-sm"},Ea={class:"col-3"},Qa={class:"col-4"},Na={class:"col-5"},Fa={class:"row justify-between items-center q-mb-md"},Ua={class:"text-h5 text-weight-bold text-primary"},La={key:0,class:"text-subtitle1 text-grey-7 q-ml-sm"},Ra={key:0,class:"bg-orange-1 text-primary q-px-md q-py-md rounded-borders q-mb-md text-subtitle1 row items-center dashed-border"},Ka={key:1,class:"bg-orange-1 text-grey-7 q-px-md q-py-md rounded-borders q-mb-md text-subtitle1 row items-center dashed-border opacity-60"},Xa={class:"text-h6 text-weight-bold text-primary"},Wa={class:"text-subtitle2 text-grey-6"},Ja={class:"text-h6 text-primary text-right text-weight-bold"},Ga={class:"row items-center q-mt-sm bg-orange-1 rounded-borders q-pa-xs"},Za={class:"text-h5 text-weight-bold q-px-md text-primary",style:{"min-width":"50px","text-align":"center"}},en={class:"bg-orange-1 rounded-borders q-pa-md q-mb-lg"},tn={class:"row justify-between items-center q-mb-sm"},ln={class:"text-h4 text-weight-bolder text-primary"},an={class:"row justify-between items-center q-mb-sm"},nn={class:"cookie-box bg-white",style:{width:"150px"}},on={class:"row justify-between items-center"},rn={class:"row justify-center q-gutter-x-md"},un={class:"text-caption text-grey-7 q-mb-md"},sn={class:"text-primary text-weight-bold"},cn={class:"row justify-end q-gutter-x-sm"},dn={__name:"AdminPage",setup(e){const f=z(0);let k=null;const A=h(()=>{if(f.value<=0)return"00:00";const x=Math.floor(f.value/60).toString().padStart(2,"0"),a=(f.value%60).toString().padStart(2,"0");return`${x}:${a}`});function n(){k&&clearInterval(k),f.value=300,k=setInterval(()=>{f.value>0?f.value--:clearInterval(k)},1e3)}kl(()=>{k&&clearInterval(k)});const c=Hl(),d=Bl(),r=z(""),V=z(!1),C=z(""),U=z(!1),L=z(!1),F=z(null),E=z({}),X=z([]),O=z(""),$=h(()=>(Number(O.value)||0)-be.value),we=h(()=>c.clientNames[String(c.currentNumber)]||""),qe=h(()=>W.value.filter(x=>!x.isBundle&&!x.content));function M(x,a){X.value.includes(a)&&(E.value[a]||(E.value[a]=1))}function u(x,a){const s=String(x),R=E.value[s]||1,N=Math.max(1,R+a);E.value[s]=N}function P(x){const a=E.value[x];(!a||a<1)&&(E.value[x]=1)}function ke(){if(!F.value)return;const x={};X.value.forEach(a=>{x[a]=E.value[a]||1}),F.value.content=x,le(F.value),L.value=!1}function ne(x){F.value=x;const a={},s=[];x.content&&Object.entries(x.content).forEach(([R,N])=>{const fe=String(R);a[fe]=N,s.push(fe)}),E.value=a,X.value=s,L.value=!0}function ee(x){if(!x.content||Object.keys(x.content).length==0)return 9999;let a=9999;return Object.entries(x.content).forEach(([s,R])=>{const N=W.value.find(fe=>fe.id==s);if(N){const fe=Math.floor(N.qty/R);fe<a&&(a=fe)}else a=0}),a}function le(x){if(x.isBundle&&x.content){const a=ee(x);x.qty>a&&(x.qty=a,d.notify({type:"warning",message:`å•†å“ä¸è¶³ï¼Œæœ€å¤šåªèƒ½è¨­å®š ${a} çµ„`,timeout:1e3}))}}xe(()=>c.startTime,x=>{if(x){const a=At.formatDate(x,"YYYY-MM-DD HH:mm");C.value=a,console.log(C.value)}},{immediate:!0});function ge(){console.log(C.value);const a=At.extractDate(C.value,"YYYY-MM-DD HH:mm").getTime();if(isNaN(a)){d.notify({type:"warning",message:"æ™‚é–“æ ¼å¼éŒ¯èª¤"});return}c.adminSetStartTime(a),d.notify({type:"positive",message:"é–‹å§‹æ™‚é–“å·²æ›´æ–°"})}function te(){c.adminResetQueue(),U.value=!1,d.notify({type:"warning",message:"å·²æ¸…ç©ºæ‰€æœ‰æŽ’éšŠè³‡æ–™"})}async function oe(){if(r.value){V.value=!0;try{await c.adminLogin(r.value),await c.init(),d.notify({type:"positive",message:"ç™»å…¥æˆåŠŸï¼æ­¡è¿Žå›žä¾†",position:"top"})}catch(x){d.notify({type:"negative",message:x.message||"å¯†ç¢¼éŒ¯èª¤",position:"top",icon:"lock_person"}),navigator.vibrate&&navigator.vibrate(200),r.value=""}finally{V.value=!1}}}const W=z([]),p=z(!1),w=z(!1),j=z(!1),Q=z(!1),J=z([]),ie=z(!1);xe(()=>c.products,x=>{W.value=JSON.parse(JSON.stringify(x))},{immediate:!0}),Cl(()=>{});function ye(x){x.qty>0&&x.qty--}function me(){W.value.push({id:Date.now(),name:"",price:0,qty:10,limit:0,soldOut:!1})}function Ce(x){W.value.splice(x,1)}function Ie(){const x=c.clientSelections[c.currentNumber]||{};O.value="",ie.value=Object.keys(x).length>0,J.value=c.products.map(a=>{let s=x[String(a.id)]||0;return s>a.qty&&(s=a.qty),{...a,currentStock:a.qty,checkoutQty:s}}),Q.value=!0}function Ye(x){x.checkoutQty<x.currentStock?x.checkoutQty++:d.notify({message:"è¶…éŽåº«å­˜ä¸Šé™",color:"warning",icon:"warning",position:"top",timeout:500})}function Ae(x){x.qty++,le(x)}const be=h(()=>J.value.reduce((x,a)=>x+a.price*a.checkoutQty,0));async function De(){j.value=!0,await new Promise(x=>setTimeout(x,800)),c.adminCheckout(J.value,be.value),j.value=!1,Q.value=!1}async function Oe(){p.value=!0,await new Promise(x=>setTimeout(x,800)),c.adminUpdateProducts(W.value),p.value=!1,d.notify({type:"positive",message:"è¨­å®šå·²å„²å­˜!",color:"primary"})}async function ce(){navigator.vibrate&&navigator.vibrate(30),w.value=!0,await new Promise(x=>setTimeout(x,500)),c.adminNext(),w.value=!1,n()}return(x,a)=>(ae(),et(Il,{class:"q-pa-md pb-safe relative-position overflow-hidden"},{default:B(()=>[a[34]||(a[34]=g("div",{class:"bg-decor"},null,-1)),(ae(),pe(ct,null,dt(20,s=>g("div",{key:s,class:"petal",style:Sl(`left: ${Math.random()*100}vw; width: ${10+Math.random()*15}px; height: ${10+Math.random()*15}px; animation-duration: ${8+Math.random()*10}s; animation-delay: -${Math.random()*10}s`)},null,4)),64)),y(Be,{name:"scale",mode:"out-in"},{default:B(()=>[Ct(c).isAdminLoggedIn?(ae(),pe("div",ua,[a[16]||(a[16]=g("div",{class:"col-12 col-md-5 column q-gutter-y-md"},null,-1)),a[17]||(a[17]=g("div",{class:"col-12 col-md-7"},null,-1)),a[18]||(a[18]=g("div",{class:"lt-md fixed-bottom q-pa-md glass-footer z-top"},null,-1)),y(ot,{modelValue:Q.value,"onUpdate:modelValue":a[1]||(a[1]=s=>Q.value=s)},null,8,["modelValue"])])):(ae(),pe("div",na,[y($e,{class:"cute-card q-pa-xl text-center shadow-24",style:{"max-width":"400px",width:"100%"}},{default:B(()=>[a[13]||(a[13]=g("div",{class:"absolute-top full-width bg-gradient-gold",style:{height:"8px"}},null,-1)),g("div",oa,[g("div",ia,[y(_e,{name:"lock",size:"4rem",color:"orange-8"})])]),a[14]||(a[14]=g("div",{class:"text-h5 text-weight-bolder text-primary q-mb-md"},"ç®¡ç†å“¡ç¢ºèª",-1)),a[15]||(a[15]=g("div",{class:"text-subtitle1 text-grey-6 q-mb-lg"},"è«‹è¼¸å…¥å¾Œå°é€šè¡Œç¢¼",-1)),g("div",ra,[y(je,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=s=>r.value=s),type:"password",inputmode:"numeric",pattern:"[0-9]*",borderless:"",dense:"",class:"text-h5 text-center cookie-input p-0",placeholder:"****",onKeyup:zl(oe,["enter"])},null,8,["modelValue"])]),y(H,{push:"",rounded:"",size:"lg",color:"primary",class:"full-width jelly-btn shadow-3",label:"è§£éŽ–é€²å…¥","icon-right":"login",loading:V.value,onClick:oe},null,8,["loading"])]),_:1})]))]),_:1}),g("div",sa,[g("div",ca,[g("div",da,[g("div",va,[y(_e,{name:"stars",class:"q-mr-sm",size:"md"}),a[19]||(a[19]=he(" ä¸»æŽ§å° ",-1))]),y(H,{label:"æ¸…ç©ºé‡ç½®",color:"negative",class:"jelly-btn",push:"",icon:"delete_forever",onClick:a[2]||(a[2]=s=>U.value=!0)})]),y($e,{class:"cute-card q-pa-lg text-center relative-position"},{default:B(()=>[y(H,{push:"",color:"primary",class:"jelly-btn text-weight-bold text-h5 q-py-lg shadow-3",label:"è¨‚å–®æ­·å²","icon-right":"history",size:"lg",to:"/history"})]),_:1}),y($e,{class:"cute-card q-pa-lg text-center relative-position"},{default:B(()=>[a[21]||(a[21]=g("div",{class:"absolute-top full-width bg-gradient-gold",style:{height:"8px"}},null,-1)),a[22]||(a[22]=g("div",{class:"text-subtitle1 text-primary letter-spacing-1 q-mt-sm opacity-80"}," NOW SERVING ",-1)),g("div",ma,se(Ct(c).currentNumber),1),g("div",fa,[f.value>0?(ae(),pe("div",ha,[g("div",ga,[g("div",ya,[y(_e,{name:"timer",size:"xs"}),a[20]||(a[20]=he(" å€’æ•¸è¨ˆæ™‚ ",-1))]),g("div",ba,se(A.value),1)]),y(Al,{value:f.value/300,color:"orange","track-color":"orange-1",size:"8px",rounded:"",stripe:"","animation-speed":"500"},null,8,["value"])])):vt("",!0)]),g("div",pa,[y(H,{push:"",class:"jelly-btn bg-gradient-gold text-white text-weight-bold text-h5 q-py-lg shadow-3",icon:"shopping_cart_checkout",label:"çµå¸³ Checkout",size:"lg",onClick:Ie},{default:B(()=>[y(_e,{name:"auto_awesome",class:"absolute-top-right q-ma-sm opacity-50",size:"sm"})]),_:1}),y(H,{push:"",color:"primary",class:"jelly-btn text-weight-bold text-h5 q-py-lg shadow-3",label:"ä¸‹ä¸€ä½ Next","icon-right":"navigate_next",size:"lg",loading:w.value,onClick:ce},null,8,["loading"]),y(H,{flat:"",color:"primary",class:"jelly-btn bg-orange-1 q-py-md text-h6",label:"å„²å­˜è¨­å®š",icon:"save",loading:p.value,onClick:Oe},null,8,["loading"])])]),_:1}),y($e,{class:"cute-card q-pa-md q-mb-md"},{default:B(()=>[a[23]||(a[23]=g("div",{class:"text-h6 text-weight-bold text-primary q-mb-sm"},"âš™ï¸ æ´»å‹•è¨­å®š",-1)),g("div",_a,[g("div",xa,[y(je,{filled:"",modelValue:C.value,"onUpdate:modelValue":a[5]||(a[5]=s=>C.value=s),label:"æŠ½ç¥¨é–‹å§‹æ™‚é–“",dense:"",readonly:"",placeholder:"è«‹é¸æ“‡æ—¥æœŸèˆ‡æ™‚é–“"},{prepend:B(()=>[y(_e,{name:"event",class:"cursor-pointer"},{default:B(()=>[y(Kt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:B(()=>[y(Xl,{modelValue:C.value,"onUpdate:modelValue":a[3]||(a[3]=s=>C.value=s),mask:"YYYY-MM-DD HH:mm"},{default:B(()=>[g("div",wa,[Ve(y(H,{label:"Close",color:"primary",flat:""},null,512),[[lt]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),append:B(()=>[y(_e,{name:"access_time",class:"cursor-pointer"},{default:B(()=>[y(Kt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:B(()=>[y(ta,{modelValue:C.value,"onUpdate:modelValue":a[4]||(a[4]=s=>C.value=s),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:B(()=>[g("div",qa,[Ve(y(H,{label:"Close",color:"primary",flat:""},null,512),[[lt]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),g("div",ka,[y(H,{label:"æ›´æ–°æ™‚é–“",color:"primary",class:"jelly-btn",push:"",onClick:ge,disable:!C.value},null,8,["disable"])])])]),_:1})]),g("div",Ca,[g("div",Sa,[a[24]||(a[24]=g("div",{class:"text-h5 text-weight-bolder text-primary q-ml-sm"},"å•†å“è¨­å®š",-1)),y(H,{push:"",round:"",color:"secondary","text-color":"primary",icon:"add",size:"lg",class:"shadow-2",onClick:me})]),g("div",za,[(ae(!0),pe(ct,null,dt(W.value,(s,R)=>(ae(),pe("div",{key:s.id||R,class:"cute-card product-row q-pa-md row items-center no-wrap"},[g("div",Ma,[g("div",Va,[y(je,{modelValue:s.name,"onUpdate:modelValue":N=>s.name=N,borderless:"",dense:"",class:"text-h5 cookie-input p-0",placeholder:"è¼¸å…¥å•†å“åç¨±"},null,8,["modelValue","onUpdate:modelValue"])]),g("div",Da,[y(la,{modelValue:s.isBundle,"onUpdate:modelValue":[N=>s.isBundle=N,N=>x.handleBundleToggle(s)],label:"è¨­ç‚ºå¥—çµ„",dense:"",size:"sm",color:"secondary"},null,8,["modelValue","onUpdate:modelValue"]),s.isBundle?(ae(),et(H,{key:0,flat:"",dense:"",size:"sm",color:"primary",icon:"edit",label:"è¨­å®šå…§å®¹",class:"q-ml-sm bg-blue-1",onClick:N=>ne(s)},null,8,["onClick"])):vt("",!0)]),g("div",Oa,[g("div",ja,[g("div",Ha,[y(_e,{name:"attach_money",size:"xs",color:"orange-8"}),y(je,{modelValue:s.price,"onUpdate:modelValue":N=>s.price=N,modelModifiers:{number:!0},type:"number",inputmode:"numeric",pattern:"[0-9]*",borderless:"",dense:"",class:"text-h6 p-0 cookie-input no-spinner",style:{width:"70px"},placeholder:"0"},null,8,["modelValue","onUpdate:modelValue"])]),g("div",Ia,[y(H,{flat:"",round:"",dense:"",color:"orange-8",icon:"remove",size:"md",onClick:N=>ye(s)},null,8,["onClick"]),y(je,{modelValue:s.qty,"onUpdate:modelValue":N=>s.qty=N,modelModifiers:{number:!0},type:"number",inputmode:"numeric",pattern:"[0-9]*",borderless:"",dense:"","input-class":"text-center text-h5 text-weight-bolder text-deep-orange",class:"q-mx-xs p-0 no-spinner",style:{width:"60px"},onBlur:N=>le(s)},null,8,["modelValue","onUpdate:modelValue","onBlur"]),y(H,{flat:"",round:"",dense:"",color:"orange-8",icon:"add",size:"md",onClick:N=>Ae(s)},null,8,["onClick"])])]),g("div",Ya,[g("div",Ta,se((s.limit||0)>0?"é™è³¼":"ä¸é™"),1),g("div",Pa,[y(H,{flat:"",round:"",dense:"",color:"pink-8",icon:"remove",size:"md",onClick:N=>s.limit=(s.limit||0)>0?s.limit-1:0},null,8,["onClick"]),y(je,{modelValue:s.limit,"onUpdate:modelValue":N=>s.limit=N,modelModifiers:{number:!0},inputmode:"numeric",pattern:"[0-9]*",type:"number",borderless:"",dense:"","input-class":"text-center text-h5 text-weight-bolder text-pink-8",class:"q-mx-xs p-0 cookie-input no-spinner",style:{width:"60px"},placeholder:"âˆž"},null,8,["modelValue","onUpdate:modelValue"]),y(H,{flat:"",round:"",dense:"",color:"pink-8",icon:"add",size:"md",onClick:N=>s.limit=(s.limit||0)+1},null,8,["onClick"])])])])]),g("div",$a,[y(H,{flat:"",round:"",icon:"delete_outline",color:"primary",size:"md",class:"opacity-50 hover-opacity-100 q-mt-sm",onClick:N=>Ce(R)},null,8,["onClick"])])]))),128))])])]),g("div",Ba,[g("div",Aa,[g("div",Ea,[y(H,{flat:"",color:"primary",class:"full-width full-height jelly-btn bg-orange-1 text-weight-bold",icon:"save",stack:"",label:"å„²å­˜",onClick:Oe,loading:p.value},null,8,["loading"])]),g("div",Qa,[y(H,{push:"",class:"full-width full-height jelly-btn bg-gradient-gold text-white shadow-3",icon:"point_of_sale",stack:"",label:"çµå¸³",size:"lg",onClick:Ie})]),g("div",Na,[y(H,{push:"",color:"primary",class:"full-width full-height jelly-btn shadow-3",icon:"navigate_next",stack:"",label:"ä¸‹ä¸€ä½",size:"lg",onClick:ce,loading:w.value},null,8,["loading"])])])]),y(ot,{modelValue:Q.value,"onUpdate:modelValue":a[7]||(a[7]=s=>Q.value=s),position:"bottom",class:"checkout-dialog z-max"},{default:B(()=>[y($e,{class:"cute-card q-pa-md full-width",style:{"border-radius":"24px 24px 0 0","max-width":"1024px"}},{default:B(()=>[g("div",Fa,[g("div",Ua,[he(" ðŸ§¾ æ”¶éŠ€å° (No."+se(Ct(c).currentNumber)+") ",1),we.value?(ae(),pe("span",La," - "+se(we.value),1)):vt("",!0)]),Ve(y(H,{icon:"close",flat:"",round:"",size:"lg",dense:"",color:"primary"},null,512),[[lt]])]),ie.value?(ae(),pe("div",Ra,[y(_e,{name:"auto_awesome",size:"sm",class:"q-mr-sm"}),a[25]||(a[25]=he(" è‡ªå‹•å¸¶å…¥ç´å¯¶é é¸ ",-1))])):(ae(),pe("div",Ka,[y(_e,{name:"info",size:"sm",class:"q-mr-sm"}),a[26]||(a[26]=he(" æ­¤ç´å¯¶å°šæœªé é¸ ",-1))])),y(el,{style:{height:"40vh"},class:"q-mb-md"},{default:B(()=>[y(Et,{separator:""},{default:B(()=>[(ae(!0),pe(ct,null,dt(J.value,s=>(ae(),et(Qt,{key:s.id,class:"q-py-lg"},{default:B(()=>[y(at,null,{default:B(()=>[g("div",Xa,se(s.name),1),g("div",Wa,"åº«å­˜: "+se(s.currentStock),1)]),_:2},1024),y(at,{side:""},{default:B(()=>[g("div",Ja," $"+se(s.price),1),g("div",Ga,[y(H,{flat:"",round:"",color:"primary",icon:"remove_circle_outline",size:"md",onClick:R=>s.checkoutQty>0?s.checkoutQty--:0},null,8,["onClick"]),g("div",Za,se(s.checkoutQty),1),y(H,{flat:"",round:"",color:"primary",icon:"add_circle_outline",size:"md",onClick:R=>Ye(s)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),y(Nt,{class:"q-mb-md bg-orange-2"}),g("div",en,[g("div",tn,[a[27]||(a[27]=g("div",{class:"text-h6 text-grey-8"},"æ‡‰ä»˜é‡‘é¡ Total",-1)),g("div",ln,"$"+se(be.value),1)]),g("div",an,[a[28]||(a[28]=g("div",{class:"text-h6 text-grey-8"},"å¯¦æ”¶é‡‘é¡ Paid",-1)),g("div",nn,[y(je,{modelValue:O.value,"onUpdate:modelValue":a[6]||(a[6]=s=>O.value=s),modelModifiers:{number:!0},inputmode:"numeric",pattern:"[0-9]*",type:"number",borderless:"",dense:"","input-class":"text-right text-h5 text-weight-bold text-dark",class:"p-0 no-spinner",placeholder:"0"},null,8,["modelValue"])])]),y(Nt,{class:"q-my-sm bg-orange-3"}),g("div",on,[a[29]||(a[29]=g("div",{class:"text-h6 text-grey-8"},"æ‰¾é›¶ Change",-1)),g("div",{class:Ml(["text-h4 text-weight-bolder",$.value<0?"text-red":"text-positive"])}," $"+se($.value),3)])]),y(H,{label:"ç¢ºèªçµå¸³ (Confirm)",class:"full-width jelly-btn bg-gradient-gold text-white text-h5 shadow-4 q-py-md",size:"lg",push:"",onClick:De,disable:be.value==0,loading:j.value},null,8,["disable","loading"])]),_:1})]),_:1},8,["modelValue"]),y(ot,{modelValue:U.value,"onUpdate:modelValue":a[8]||(a[8]=s=>U.value=s)},{default:B(()=>[y($e,{class:"cute-card q-pa-md text-center"},{default:B(()=>[y(_e,{name:"warning",color:"negative",size:"4rem"}),a[30]||(a[30]=g("div",{class:"text-h6 q-my-md"},"ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰è³‡æ–™å—Žï¼Ÿ",-1)),a[31]||(a[31]=g("div",{class:"text-body2 text-grey-7 q-mb-lg"},[he(" é€™å°‡æœƒï¼š"),g("br"),he(" 1. æ­¸é›¶æŽ’éšŠè™Ÿç¢¼"),g("br"),he(" 2. æ¸…é™¤æ‰€æœ‰äººçš„è³¼ç‰©è»Š"),g("br"),he(" 3. æ­¤å‹•ä½œç„¡æ³•å¾©åŽŸï¼ ")],-1)),g("div",rn,[Ve(y(H,{flat:"",label:"å–æ¶ˆ",color:"grey"},null,512),[[lt]]),y(H,{push:"",label:"ç¢ºèªæ¸…ç©º",color:"negative",onClick:te})])]),_:1})]),_:1},8,["modelValue"]),y(ot,{modelValue:L.value,"onUpdate:modelValue":a[12]||(a[12]=s=>L.value=s)},{default:B(()=>[y($e,{class:"cute-card q-pa-md",style:{"min-width":"360px"}},{default:B(()=>[a[33]||(a[33]=g("div",{class:"text-h6 text-weight-bold q-mb-sm"},"ç·¨è¼¯çµ„åˆå…§å®¹",-1)),g("div",un,[a[32]||(a[32]=he(" ç›®å‰ç·¨è¼¯ï¼š",-1)),g("span",sn,se(F.value?.name||"æœªå‘½åå•†å“"),1)]),y(el,{style:{height:"300px"},class:"q-mb-md border-radius-inherit"},{default:B(()=>[y(Et,{separator:""},{default:B(()=>[(ae(!0),pe(ct,null,dt(qe.value,s=>Ve((ae(),et(Qt,{key:s.id,tag:"label"},{default:B(()=>[y(at,{avatar:""},{default:B(()=>[y(El,{modelValue:X.value,"onUpdate:modelValue":[a[9]||(a[9]=R=>X.value=R),R=>M(R,String(s.id))],val:String(s.id)},null,8,["modelValue","val","onUpdate:modelValue"])]),_:2},1024),y(at,null,{default:B(()=>[y(Ft,{class:"text-weight-bold"},{default:B(()=>[he(se(s.name),1)]),_:2},1024),y(Ft,{caption:""},{default:B(()=>[he("ç¾æœ‰åº«å­˜: "+se(s.qty),1)]),_:2},1024)]),_:2},1024),X.value.includes(String(s.id))?(ae(),et(at,{key:0,side:""},{default:B(()=>[g("div",{class:"row items-center bg-grey-2 rounded-borders q-pa-xs",onClick:a[11]||(a[11]=mt(()=>{},["stop"]))},[y(H,{flat:"",round:"",dense:"",icon:"remove",size:"xs",color:"grey-8",onClick:mt(R=>u(s.id,-1),["stop"])},null,8,["onClick"]),y(je,{modelValue:E.value[String(s.id)],"onUpdate:modelValue":R=>E.value[String(s.id)]=R,modelModifiers:{number:!0},type:"number",borderless:"",inputmode:"numeric",pattern:"[0-9]*",dense:"","input-class":"text-center text-weight-bold text-primary",class:"q-mx-xs p-0 no-spinner",style:{width:"40px"},onClick:a[10]||(a[10]=mt(()=>{},["stop"])),onBlur:R=>P(String(s.id))},null,8,["modelValue","onUpdate:modelValue","onBlur"]),y(H,{flat:"",round:"",dense:"",icon:"add",size:"xs",color:"grey-8",onClick:mt(R=>u(s.id,1),["stop"])},null,8,["onClick"])])]),_:2},1024)):vt("",!0)]),_:2},1024)),[[Vl]])),128))]),_:1})]),_:1}),g("div",cn,[Ve(y(H,{flat:"",label:"å–æ¶ˆ",color:"grey"},null,512),[[lt]]),y(H,{push:"",label:"å„²å­˜è¨­å®š",color:"primary",onClick:ke})])]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},pn=Dl(dn,[["__scopeId","data-v-5b4e974a"]]);export{pn as default};
